Relative image coords: [0, 1] x [0, 1], RIC
Image plane coords: origin at midpoint, [-1, 1] along largest dimension, IPC


ImagePanelContainer
  ControlPointsContainer ()
  ResizableImagePanel

UI

SettingsPanel
ImagePanel
ResultPane

l

State

interface ControlPointsState
  * referenceDistanceVpIndex
  * referenceDistance
  * referenceDistanceUnit
  * pp
  * origin
  * vp1

interface ControlPointsState1Vp : ControlPointsState
  * horizon

interface ControlPointsState2Vp : ControlPointsState
  * vp2
  * vp3
  * vpCouplingMode


interface ControlPointState {
  id:string
  x:double
  y:double
}



* settings
  * calibrationMode
  * dimmed
  * 1vp
    * horizonMode
    * principalPointMode
    * vpAxis
    * upAxis
    * cameraPreset
      * id
      * sensorWidth
      * sensorHeight
  * 2vp
    * principalPointMode
    * vpAxis1
    * vpAxis2
* imagePanel
  * imageUrl
  * imageWidth
  * imageHeight
  * 1vp
    * referenceDistanceVpIndex
    * referenceDistance
    * referenceDistanceUnit
    * pp
    * origin
    * vp1
    * horizon
      * cp1
      * cp2
  * 2vp
    * vpCouplingMode
    * referenceDistanceVpIndex
    * referenceDistance
    * referenceDistanceUnit
    * vp1
      * cp1
      * cp2
      * cp3
      * cp4
      * m1
      * m2
    * vp2
      * ..
      * ..
    * vp3
      * ..
      * ..
    * pp
    * origin
* result
  * 1vp
    [nothing]
  * 2vp
    * cameraPreset
      * id
      * sensorWidth
      * sensorHeight